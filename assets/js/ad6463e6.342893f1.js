"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[2918],{6998:(e,i,n)=>{n.r(i),n.d(i,{assets:()=>l,contentTitle:()=>c,default:()=>h,frontMatter:()=>s,metadata:()=>o,toc:()=>a});const o=JSON.parse('{"id":"configuration/monitor-matching","title":"Monitor Matching","description":"Profiles match monitors based on their properties. Understanding how monitor matching works is essential for creating effective profiles.","source":"@site/versioned_docs/version-v1.3.10/configuration/monitor-matching.md","sourceDirName":"configuration","slug":"/configuration/monitor-matching","permalink":"/docs/configuration/monitor-matching","draft":false,"unlisted":false,"editUrl":"https://github.com/fiffeek/hyprdynamicmonitors/tree/main/docs/versioned_docs/version-v1.3.10/configuration/monitor-matching.md","tags":[],"version":"v1.3.10","sidebarPosition":2,"frontMatter":{"sidebar_position":2},"sidebar":"tutorialSidebar","previous":{"title":"Overview","permalink":"/docs/configuration/overview"},"next":{"title":"Profiles","permalink":"/docs/configuration/profiles"}}');var r=n(4848),t=n(8453);const s={sidebar_position:2},c="Monitor Matching",l={},a=[{value:"Matching Properties",id:"matching-properties",level:2},{value:"Name",id:"name",level:3},{value:"Description",id:"description",level:3},{value:"Tags (Optional)",id:"tags-optional",level:2},{value:"Finding Monitor Information",id:"finding-monitor-information",level:2},{value:"Profile Scoring and Selection",id:"profile-scoring-and-selection",level:2},{value:"Example: Profile Priority",id:"example-profile-priority",level:3},{value:"Customizing Scoring Weights",id:"customizing-scoring-weights",level:3},{value:"Regex matching for monitor name or description",id:"regex-matching-for-monitor-name-or-description",level:2},{value:"Best Practices",id:"best-practices",level:2},{value:"See Also",id:"see-also",level:2}];function d(e){const i={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.header,{children:(0,r.jsx)(i.h1,{id:"monitor-matching",children:"Monitor Matching"})}),"\n",(0,r.jsx)(i.p,{children:"Profiles match monitors based on their properties. Understanding how monitor matching works is essential for creating effective profiles."}),"\n",(0,r.jsx)(i.admonition,{type:"tip",children:(0,r.jsxs)(i.p,{children:["For fake outputs (headless displays) the description from ",(0,r.jsx)(i.code,{children:"hyprctl"})," will be empty so use the ",(0,r.jsx)(i.code,{children:"name"})," matcher."]})}),"\n",(0,r.jsx)(i.h2,{id:"matching-properties",children:"Matching Properties"}),"\n",(0,r.jsx)(i.p,{children:"You can match monitors by:"}),"\n",(0,r.jsx)(i.h3,{id:"name",children:"Name"}),"\n",(0,r.jsxs)(i.p,{children:["The monitor's connector name (e.g., ",(0,r.jsx)(i.code,{children:"eDP-1"}),", ",(0,r.jsx)(i.code,{children:"DP-1"}),", ",(0,r.jsx)(i.code,{children:"HDMI-A-1"}),")"]}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-toml",metastring:'title="~/.config/hyprdynamicmonitors/config.toml"',children:'[[profiles.laptop_only.conditions.required_monitors]]\nname = "eDP-1"  # Match by connector name\n'})}),"\n",(0,r.jsxs)(i.admonition,{type:"info",children:[(0,r.jsx)(i.p,{children:"You can use regex matching for the monitor name:"}),(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-toml",metastring:'title="~/.config/hyprdynamicmonitors/config.toml"',children:'[[profiles.laptop_only.conditions.required_monitors]]\nname = "DP-.*"\nmatch_name_using_regex = true\n'})}),(0,r.jsx)(i.p,{children:"It is disabled by default."})]}),"\n",(0,r.jsx)(i.h3,{id:"description",children:"Description"}),"\n",(0,r.jsx)(i.p,{children:"The monitor's model/manufacturer string as reported by Hyprland"}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-toml",metastring:'title="~/.config/hyprdynamicmonitors/config.toml"',children:'[[profiles.external_4k.conditions.required_monitors]]\ndescription = "Dell U2720Q"  # Match by monitor model\n'})}),"\n",(0,r.jsxs)(i.admonition,{type:"info",children:[(0,r.jsx)(i.p,{children:"You can use regex matching for the monitor description:"}),(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-toml",metastring:'title="~/.config/hyprdynamicmonitors/config.toml"',children:'[[profiles.laptop_only.conditions.required_monitors]]\ndescription = "Dell.*"\nmatch_description_using_regex = true\n'})}),(0,r.jsx)(i.p,{children:"It is disabled by default."})]}),"\n",(0,r.jsx)(i.h2,{id:"tags-optional",children:"Tags (Optional)"}),"\n",(0,r.jsx)(i.p,{children:"Custom labels you assign to monitors for easier reference in templates"}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-toml",metastring:'title="~/.config/hyprdynamicmonitors/config.toml"',children:'[[profiles.dual_setup.conditions.required_monitors]]\nname = "eDP-1"\nmonitor_tag = "laptop"  # Assign a tag for template use\n'})}),"\n",(0,r.jsx)(i.p,{children:"Tags are particularly useful in Go templates where you can reference monitors by their tags:"}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-go",children:'{{- $laptop := index .MonitorsByTag "laptop" -}}\nmonitor={{$laptop.Name}},preferred,0x0,1\n'})}),"\n",(0,r.jsx)(i.h2,{id:"finding-monitor-information",children:"Finding Monitor Information"}),"\n",(0,r.jsxs)(i.p,{children:["Use ",(0,r.jsx)(i.code,{children:"hyprctl monitors"})," to see all available monitors and their properties:"]}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-bash",children:"$ hyprctl monitors\nMonitor eDP-1 (ID 0):\n        2880x1920@120.00000 at 0x0\n        description: BOE 0x0C6B\n        ...\n"})}),"\n",(0,r.jsx)(i.p,{children:"From this output:"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Name"}),": ",(0,r.jsx)(i.code,{children:"eDP-1"})]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Description"}),": ",(0,r.jsx)(i.code,{children:"BOE 0x0C6B"})]}),"\n"]}),"\n",(0,r.jsx)(i.h2,{id:"profile-scoring-and-selection",children:"Profile Scoring and Selection"}),"\n",(0,r.jsx)(i.p,{children:"When multiple profiles could match the current setup, HyprDynamicMonitors uses a scoring system:"}),"\n",(0,r.jsxs)(i.ol,{children:["\n",(0,r.jsx)(i.li,{children:"Each required monitor that's connected adds to the profile's score"}),"\n",(0,r.jsx)(i.li,{children:"The profile with the highest score is selected"}),"\n",(0,r.jsxs)(i.li,{children:["If multiple profiles have equal scores, the ",(0,r.jsx)(i.strong,{children:"last profile"})," defined in the configuration file is selected"]}),"\n"]}),"\n",(0,r.jsx)(i.h3,{id:"example-profile-priority",children:"Example: Profile Priority"}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-toml",metastring:'title="~/.config/hyprdynamicmonitors/config.toml"',children:'# This profile will be selected for laptop-only setup\n[profiles.laptop_basic]\nconfig_file = "hyprconfigs/laptop-basic.conf"\n[[profiles.laptop_basic.conditions.required_monitors]]\nname = "eDP-1"\n\n# This profile will be selected instead (defined last)\n[profiles.laptop_optimized]\nconfig_file = "hyprconfigs/laptop-optimized.conf"\n[[profiles.laptop_optimized.conditions.required_monitors]]\nname = "eDP-1"\n'})}),"\n",(0,r.jsxs)(i.p,{children:["When only ",(0,r.jsx)(i.code,{children:"eDP-1"})," is connected, both profiles match, but ",(0,r.jsx)(i.code,{children:"laptop_optimized"})," is selected because it's defined last."]}),"\n",(0,r.jsx)(i.h3,{id:"customizing-scoring-weights",children:"Customizing Scoring Weights"}),"\n",(0,r.jsx)(i.p,{children:"You can customize the scoring weights to prioritize different matching criteria:"}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-toml",metastring:'title="~/.config/hyprdynamicmonitors/config.toml"',children:"[scoring]\nname_match = 10       # Points for exact monitor name match\ndescription_match = 5 # Points for exact monitor description match\npower_state_match = 3 # Bonus points for matching power state\nlid_state_match = 2   # Bonus points for matching lid state\n"})}),"\n",(0,r.jsxs)(i.p,{children:["Higher values give more weight to specific criteria. For example, if you want power state matching to have more influence, increase the ",(0,r.jsx)(i.code,{children:"power_state_match"})," value."]}),"\n",(0,r.jsxs)(i.p,{children:["See ",(0,r.jsx)(i.a,{href:"./overview#scoring",children:"Configuration Overview"})," for more details."]}),"\n",(0,r.jsx)(i.h2,{id:"regex-matching-for-monitor-name-or-description",children:"Regex matching for monitor name or description"}),"\n",(0,r.jsxs)(i.p,{children:["You can use regexes to match similar monitor setups, e.g. you are in a library that has very similar monitors but with different ",(0,r.jsx)(i.code,{children:"description"})," each -- you can write\na catch all profile to match these:"]}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-toml",metastring:'title="~/.config/hyprdynamicmonitors/config.toml"',children:'[[profiles.library.conditions.required_monitors]]\ndescription = "Dell.*"\nmatch_description_using_regex = true\n'})}),"\n",(0,r.jsxs)(i.p,{children:["It is important to note that one ",(0,r.jsx)(i.code,{children:"required_monitors"})," will match exactly one connected output, e.g. imagine that you're connected to two ",(0,r.jsx)(i.code,{children:"Dell1"})," and ",(0,r.jsx)(i.code,{children:"Dell2"})," monitors:"]}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-bash",children:"\u276f hyprctl monitors | grep desc\n        description: Dell1\n        description: Dell2\n"})}),"\n",(0,r.jsx)(i.p,{children:"Writing a profile like this:"}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-toml",metastring:'title="~/.config/hyprdynamicmonitors/config.toml"',children:'[[profiles.library_one.conditions.required_monitors]]\ndescription = "Dell.*"\nmatch_description_using_regex = true\n'})}),"\n",(0,r.jsx)(i.p,{children:"This profile will match because all required monitors (just one) are present. However, it only matches one of the two Dell monitors."}),"\n",(0,r.jsx)(i.p,{children:"To match both Dell monitors, define two required_monitor entries:"}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-toml",metastring:'title="~/.config/hyprdynamicmonitors/config.toml"',children:'[[profiles.library_two.conditions.required_monitors]]\ndescription = "Dell.*"\nmatch_description_using_regex = true\n\n[[profiles.library_two.conditions.required_monitors]]\ndescription = "Dell.*"\nmatch_description_using_regex = true\n'})}),"\n",(0,r.jsxs)(i.p,{children:["Since one rule matches to one output, this profile will also match the current setup -- but since it defines more constrained rules (see ",(0,r.jsx)(i.a,{href:"#scoring-system",children:"scoring"}),") it would be picked up as the current setup."]}),"\n",(0,r.jsxs)(i.p,{children:["Moreover, if you do assign tags, they are deterministic -- so for exactly the same setup (",(0,r.jsx)(i.code,{children:"monitor id"})," matters), same template would be produced."]}),"\n",(0,r.jsx)(i.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,r.jsxs)(i.ol,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Order matters"}),": Define more generic profiles first, specific ones last"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsxs)(i.strong,{children:["Test with ",(0,r.jsx)(i.code,{children:"--dry-run"})]}),": Use ",(0,r.jsx)(i.code,{children:"hyprdynamicmonitors run --dry-run"})," to see which profile would be selected"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Use tags for templates"}),": Tags make templates more readable and maintainable"]}),"\n"]}),"\n",(0,r.jsx)(i.h2,{id:"see-also",children:"See Also"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.a,{href:"./profiles",children:"Profiles"})," - Learn about profile configuration"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.a,{href:"../advanced/templates",children:"Templates"})," - Use tags in dynamic templates"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.a,{href:"https://github.com/fiffeek/hyprdynamicmonitors/tree/main/examples/scoring",children:"Examples - Scoring"})," - Detailed scoring examples"]}),"\n"]})]})}function h(e={}){const{wrapper:i}={...(0,t.R)(),...e.components};return i?(0,r.jsx)(i,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},8453:(e,i,n)=>{n.d(i,{R:()=>s,x:()=>c});var o=n(6540);const r={},t=o.createContext(r);function s(e){const i=o.useContext(t);return o.useMemo(function(){return"function"==typeof e?e(i):{...i,...e}},[i,e])}function c(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:s(e.components),o.createElement(t.Provider,{value:i},e.children)}}}]);