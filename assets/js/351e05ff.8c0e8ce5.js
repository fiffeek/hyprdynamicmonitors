"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[8760],{28453:(n,i,e)=>{e.d(i,{R:()=>s,x:()=>a});var o=e(96540);const t={},r=o.createContext(t);function s(n){const i=o.useContext(r);return o.useMemo(function(){return"function"==typeof n?n(i):{...i,...n}},[i,n])}function a(n){let i;return i=n.disableParentContext?"function"==typeof n.components?n.components(t):n.components||t:s(n.components),o.createElement(r.Provider,{value:i},n.children)}},63648:(n,i,e)=>{e.r(i),e.d(i,{assets:()=>l,contentTitle:()=>a,default:()=>h,frontMatter:()=>s,metadata:()=>o,toc:()=>c});const o=JSON.parse('{"id":"quickstart/nix","title":"Nix","description":"This guide covers how to install and configure HyprDynamicMonitors on NixOS and Home Manager.","source":"@site/versioned_docs/version-v1.3.10/quickstart/nix.md","sourceDirName":"quickstart","slug":"/quickstart/nix","permalink":"/docs/v1.3.10/quickstart/nix","draft":false,"unlisted":false,"editUrl":"https://github.com/fiffeek/hyprdynamicmonitors/tree/main/docs/versioned_docs/version-v1.3.10/quickstart/nix.md","tags":[],"version":"v1.3.10","sidebarPosition":2,"frontMatter":{"sidebar_position":2},"sidebar":"tutorialSidebar","previous":{"title":"Installation","permalink":"/docs/v1.3.10/quickstart/installation"},"next":{"title":"Setup","permalink":"/docs/v1.3.10/quickstart/setup-approaches"}}');var t=e(74848),r=e(28453);const s={sidebar_position:2},a="Nix",l={},c=[{value:"Installation",id:"installation",level:2},{value:"Quick Start",id:"quick-start",level:3},{value:"Imperative Installation",id:"imperative-installation",level:3},{value:"Declarative Installation",id:"declarative-installation",level:3},{value:"NixOS Configuration",id:"nixos-configuration",level:4},{value:"Home Manager Configuration",id:"home-manager-configuration",level:4},{value:"Hyprland Integration",id:"hyprland-integration",level:2},{value:"Systemd Service Integration",id:"systemd-service-integration",level:2},{value:"Using the TUI with Declarative Configuration",id:"using-the-tui-with-declarative-configuration",level:2},{value:"Next Steps",id:"next-steps",level:2},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"Command not found",id:"command-not-found",level:3},{value:"Monitors not switching",id:"monitors-not-switching",level:3},{value:"Service fails to start",id:"service-fails-to-start",level:3},{value:"See Also",id:"see-also",level:2}];function d(n){const i={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...n.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i.header,{children:(0,t.jsx)(i.h1,{id:"nix",children:"Nix"})}),"\n",(0,t.jsx)(i.p,{children:"This guide covers how to install and configure HyprDynamicMonitors on NixOS and Home Manager."}),"\n",(0,t.jsx)(i.h2,{id:"installation",children:"Installation"}),"\n",(0,t.jsx)(i.p,{children:"HyprDynamicMonitors can be installed in several ways on Nix-based systems. Choose the method that best fits your setup."}),"\n",(0,t.jsx)(i.h3,{id:"quick-start",children:"Quick Start"}),"\n",(0,t.jsx)(i.p,{children:"For trying out the tool without installing:"}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-bash",children:"# Run directly from GitHub\nnix run github:fiffeek/hyprdynamicmonitors\n\n# Or from specific tag/version (recommended)\nnix run github:fiffeek/hyprdynamicmonitors/v1.0.0\n"})}),"\n",(0,t.jsx)(i.h3,{id:"imperative-installation",children:"Imperative Installation"}),"\n",(0,t.jsx)(i.p,{children:"Install to your user profile:"}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-bash",children:"nix profile install github:fiffeek/hyprdynamicmonitors\n"})}),"\n",(0,t.jsx)(i.h3,{id:"declarative-installation",children:"Declarative Installation"}),"\n",(0,t.jsx)(i.p,{children:"For declarative NixOS or Home Manager configurations using flakes, add the package to your system."}),"\n",(0,t.jsx)(i.h4,{id:"nixos-configuration",children:"NixOS Configuration"}),"\n",(0,t.jsx)(i.p,{children:"Add the flake input and install the package:"}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-nix",metastring:'title="flake.nix"',children:'{\n  inputs = {\n    nixpkgs.url = "github:NixOS/nixpkgs/nixos-unstable";\n    hyprdynamicmonitors.url = "github:fiffeek/hyprdynamicmonitors";\n  };\n\n  outputs = { self, nixpkgs, hyprdynamicmonitors, ... }@inputs:\n  let\n    system = "x86_64-linux";\n  in {\n    nixosConfigurations.yourhost = nixpkgs.lib.nixosSystem {\n      specialArgs = { inherit inputs system; };\n      modules = [ ./configuration.nix ];\n    };\n  };\n}\n'})}),"\n",(0,t.jsxs)(i.p,{children:["Then in your ",(0,t.jsx)(i.code,{children:"configuration.nix"}),":"]}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-nix",metastring:'title="configuration.nix"',children:"{ inputs, system, ... }:\n{\n  environment.systemPackages = [\n    inputs.hyprdynamicmonitors.packages.${system}.default\n  ];\n}\n"})}),"\n",(0,t.jsx)(i.h4,{id:"home-manager-configuration",children:"Home Manager Configuration"}),"\n",(0,t.jsx)(i.p,{children:"Add the flake input and install the package:"}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-nix",metastring:'title="flake.nix"',children:'{\n  inputs = {\n    nixpkgs.url = "github:NixOS/nixpkgs/nixos-unstable";\n    home-manager = {\n      url = "github:nix-community/home-manager";\n      inputs.nixpkgs.follows = "nixpkgs";\n    };\n    hyprdynamicmonitors.url = "github:fiffeek/hyprdynamicmonitors";\n  };\n\n  outputs = { self, nixpkgs, home-manager, hyprdynamicmonitors, ... }@inputs:\n  let\n    system = "x86_64-linux";\n  in {\n    homeConfigurations.youruser = home-manager.lib.homeManagerConfiguration {\n      pkgs = import nixpkgs { inherit system; };\n      modules = [ ./home.nix ];\n      extraSpecialArgs = { inherit inputs system; };\n    };\n  };\n}\n'})}),"\n",(0,t.jsxs)(i.p,{children:["Then in your ",(0,t.jsx)(i.code,{children:"home.nix"}),":"]}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-nix",metastring:'title="home.nix"',children:"{ inputs, system, ... }:\n{\n  home.packages = [\n    inputs.hyprdynamicmonitors.packages.${system}.default\n  ];\n}\n"})}),"\n",(0,t.jsx)(i.h2,{id:"hyprland-integration",children:"Hyprland Integration"}),"\n",(0,t.jsxs)(i.admonition,{title:"Important: Source the Configuration File",type:"warning",children:[(0,t.jsxs)(i.p,{children:["After installing HyprDynamicMonitors and setting up your profiles, you ",(0,t.jsx)(i.strong,{children:"must"})," source the generated configuration file in your Hyprland config. This is a common step that's easy to miss!"]}),(0,t.jsx)(i.p,{children:(0,t.jsx)(i.strong,{children:"Without this step, your monitor configurations won't be applied."})}),(0,t.jsxs)(i.p,{children:["The destination path ",(0,t.jsx)(i.a,{href:"../configuration/overview#general-settings",children:"can be changed"})," but defaults to ",(0,t.jsx)(i.code,{children:"$HOME/.config/hypr/monitors.conf"}),"."]}),(0,t.jsx)(i.p,{children:"Add the following to your Hyprland configuration:"}),(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-conf",metastring:'title="~/.config/hypr/hyprland.conf"',children:"# Source the auto-generated monitors configuration\n# Adjust the path to match your destination setting in config.toml\nsource = ~/.config/hypr/monitors.conf\n"})}),(0,t.jsx)(i.p,{children:"Or if using Home Manager with declarative Hyprland config:"}),(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-nix",children:"wayland.windowManager.hyprland = {\n  enable = true;\n  extraConfig = ''\n    # Source the auto-generated monitors configuration\n    source = ~/.config/hypr/monitors.conf\n  '';\n};\n"})})]}),"\n",(0,t.jsx)(i.h2,{id:"systemd-service-integration",children:"Systemd Service Integration"}),"\n",(0,t.jsx)(i.p,{children:"For automatic startup and proper integration with your system, it's recommended to run HyprDynamicMonitors as a systemd service. HyprDynamicMonitors provides both NixOS and Home Manager modules for declarative systemd service configuration."}),"\n",(0,t.jsxs)(i.p,{children:["See the ",(0,t.jsx)(i.a,{href:"../advanced/systemd#nix",children:"Systemd Integration Guide - Nix section"})," for detailed setup instructions, configuration options, and examples."]}),"\n",(0,t.jsx)(i.h2,{id:"using-the-tui-with-declarative-configuration",children:"Using the TUI with Declarative Configuration"}),"\n",(0,t.jsxs)(i.admonition,{title:"Config Path for TUI",type:"info",children:[(0,t.jsxs)(i.p,{children:["When using declarative Nix configuration, the TUI needs to operate on the same config file that the daemon uses. By default, the TUI looks for config at ",(0,t.jsx)(i.code,{children:"~/.config/hyprdynamicmonitors/config.toml"}),"."]}),(0,t.jsx)(i.p,{children:"If your daemon uses a different config location (e.g., when using the NixOS module), specify the config path explicitly:"}),(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-bash",children:"# For NixOS module (default path)\nhyprdynamicmonitors tui --config /etc/xdg/hyprdynamicmonitors/config.toml\n\n# For Home Manager module (default path)\nhyprdynamicmonitors tui --config ~/.config/hyprdynamicmonitors/config.toml\n"})}),(0,t.jsx)(i.p,{children:(0,t.jsx)(i.strong,{children:"Working with immutable Nix configurations:"})}),(0,t.jsx)(i.p,{children:"If you're managing your configuration declaratively and don't want to modify the live config directly, use this workflow:"}),(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-bash",children:"# Create a temporary working directory\nmkdir -p /tmp/hyprdynamicmonitors\n\n# Copy config and hyprconfigs directory to temporary location\ncp /etc/xdg/hyprdynamicmonitors/config.toml /tmp/hyprdynamicmonitors/config.toml\ncp -r /etc/xdg/hyprdynamicmonitors/hyprconfigs /tmp/hyprdynamicmonitors/\n\n# Run TUI on the temporary copy\nhyprdynamicmonitors tui --config /tmp/hyprdynamicmonitors/config.toml\n\n# Copy changes back to your Nix configuration directory\ncp /tmp/hyprdynamicmonitors/config.toml ~/your-nix-config/hyprdynamicmonitors-config.toml\ncp -r /tmp/hyprdynamicmonitors/hyprconfigs ~/your-nix-config/\n\n# Rebuild your system/home-manager to apply changes\nnixos-rebuild switch  # or home-manager switch\n"})}),(0,t.jsxs)(i.p,{children:["This approach keeps your declarative configuration as the source of truth while still allowing you to use the TUI for configuration. The ",(0,t.jsx)(i.code,{children:"hyprconfigs"})," directory contains your monitor profiles and templates, so it needs to be copied alongside the config file."]})]}),"\n",(0,t.jsx)(i.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,t.jsx)(i.p,{children:"After installation:"}),"\n",(0,t.jsxs)(i.ol,{children:["\n",(0,t.jsxs)(i.li,{children:["\u2705 Verify the package is installed: ",(0,t.jsx)(i.code,{children:"hyprdynamicmonitors --version"})]}),"\n",(0,t.jsxs)(i.li,{children:["\u2705 ",(0,t.jsxs)(i.strong,{children:["Add the ",(0,t.jsx)(i.code,{children:"source"})," line to your Hyprland config"]})," (see warning above)"]}),"\n",(0,t.jsxs)(i.li,{children:["\u2705 Configure your monitor profiles using the ",(0,t.jsx)(i.a,{href:"./tui",children:"TUI"})," or ",(0,t.jsx)(i.a,{href:"../configuration/overview",children:"manual configuration"})]}),"\n",(0,t.jsxs)(i.li,{children:["\u2705 Start the service or run ",(0,t.jsx)(i.code,{children:"hyprdynamicmonitors run"})]}),"\n"]}),"\n",(0,t.jsx)(i.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,t.jsx)(i.h3,{id:"command-not-found",children:"Command not found"}),"\n",(0,t.jsxs)(i.p,{children:["If ",(0,t.jsx)(i.code,{children:"hyprdynamicmonitors"})," is not found after installation, ensure:"]}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsxs)(i.li,{children:["For NixOS: The package is in ",(0,t.jsx)(i.code,{children:"environment.systemPackages"})]}),"\n",(0,t.jsxs)(i.li,{children:["For Home Manager: The package is in ",(0,t.jsx)(i.code,{children:"home.packages"})]}),"\n",(0,t.jsxs)(i.li,{children:["Your shell session is restarted or you've run ",(0,t.jsx)(i.code,{children:"source ~/.profile"})]}),"\n"]}),"\n",(0,t.jsx)(i.h3,{id:"monitors-not-switching",children:"Monitors not switching"}),"\n",(0,t.jsx)(i.p,{children:"Check that:"}),"\n",(0,t.jsxs)(i.ol,{children:["\n",(0,t.jsxs)(i.li,{children:["\u2705 The systemd service is running: ",(0,t.jsx)(i.code,{children:"systemctl --user status hyprdynamicmonitors"})]}),"\n",(0,t.jsxs)(i.li,{children:["\u2705 You've ",(0,t.jsx)(i.strong,{children:"sourced the configuration file"})," in your Hyprland config (see warning above)"]}),"\n",(0,t.jsxs)(i.li,{children:["\u2705 The destination path matches between your config and the ",(0,t.jsx)(i.code,{children:"source"})," line in Hyprland"]}),"\n"]}),"\n",(0,t.jsx)(i.h3,{id:"service-fails-to-start",children:"Service fails to start"}),"\n",(0,t.jsxs)(i.p,{children:["Check logs: ",(0,t.jsx)(i.code,{children:"journalctl --user -u hyprdynamicmonitors -n 50"})]}),"\n",(0,t.jsx)(i.p,{children:"Common issues:"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsxs)(i.li,{children:["Missing environment variables (see ",(0,t.jsx)(i.a,{href:"../advanced/systemd",children:"systemd environment tip"}),")"]}),"\n",(0,t.jsx)(i.li,{children:"UPower not enabled (required for power/lid events)"}),"\n",(0,t.jsx)(i.li,{children:"Invalid configuration file"}),"\n"]}),"\n",(0,t.jsx)(i.h2,{id:"see-also",children:"See Also"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.a,{href:"../advanced/systemd",children:"Systemd Integration"})," - Detailed systemd service configuration"]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.a,{href:"./tui",children:"TUI Guide"})," - Interactive configuration interface"]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.a,{href:"../configuration/overview",children:"Configuration Overview"})," - Configuration file reference"]}),"\n"]})]})}function h(n={}){const{wrapper:i}={...(0,r.R)(),...n.components};return i?(0,t.jsx)(i,{...n,children:(0,t.jsx)(d,{...n})}):d(n)}}}]);