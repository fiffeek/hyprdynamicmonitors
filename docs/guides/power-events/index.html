<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-v1.3.10 docs-doc-page docs-doc-id-guides/power-events" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.1">
<title data-rh="true">Running with Power Events | HyprDynamicMonitors</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://hyprdynamicmonitors.filipmikina.com/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://hyprdynamicmonitors.filipmikina.com/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://hyprdynamicmonitors.filipmikina.com/docs/guides/power-events"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="v1.3.10"><meta data-rh="true" name="docusaurus_tag" content="docs-default-v1.3.10"><meta data-rh="true" name="docsearch:version" content="v1.3.10"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-v1.3.10"><meta data-rh="true" property="og:title" content="Running with Power Events | HyprDynamicMonitors"><meta data-rh="true" name="description" content="What are power events?"><meta data-rh="true" property="og:description" content="What are power events?"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://hyprdynamicmonitors.filipmikina.com/docs/guides/power-events"><link data-rh="true" rel="alternate" href="https://hyprdynamicmonitors.filipmikina.com/docs/guides/power-events" hreflang="en"><link data-rh="true" rel="alternate" href="https://hyprdynamicmonitors.filipmikina.com/docs/guides/power-events" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Guides","item":"https://hyprdynamicmonitors.filipmikina.com/docs/category/guides"},{"@type":"ListItem","position":2,"name":"Running with Power Events","item":"https://hyprdynamicmonitors.filipmikina.com/docs/guides/power-events"}]}</script><link rel="stylesheet" href="/assets/css/styles.e940184f.css">
<script src="/assets/js/runtime~main.b3bc0687.js" defer="defer"></script>
<script src="/assets/js/main.326a0135.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")),document.documentElement.setAttribute("data-theme-choice",t||"system")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/img/logo.png"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.png" alt="hyprdynamicmonitors" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.png" alt="hyprdynamicmonitors" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">HyprDynamicMonitors</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/">Documentation</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/fiffeek/hyprdynamicmonitors" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a aria-current="page" class="navbar__link active" aria-haspopup="true" aria-expanded="false" role="button" href="/docs/guides/power-events">v1.3.10</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/next/guides/power-events">Next</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/docs/guides/power-events">v1.3.10</a></li><li><a class="dropdown__link" href="/docs/v1.3.9/guides/power-events">v1.3.9</a></li><li><a class="dropdown__link" href="/docs/v1.3.8/guides/power-events">v1.3.8</a></li><li><a class="dropdown__link" href="/docs/v1.3.7/guides/power-events">v1.3.7</a></li><li><a class="dropdown__link" href="/docs/v1.3.6/guides/power-events">v1.3.6</a></li><li><a class="dropdown__link" href="/docs/v1.3.5/">v1.3.5</a></li><li><a class="dropdown__link" href="/docs/v1.3.4/">v1.3.4</a></li><li><a class="dropdown__link" href="/docs/v1.3.3/">v1.3.3</a></li><li><a class="dropdown__link" href="/docs/v1.3.2/">v1.3.2</a></li><li><a class="dropdown__link" href="/docs/v1.3.1/">v1.3.1</a></li><li><a class="dropdown__link" href="/docs/v1.3.0/">v1.3.0</a></li></ul></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><div class="navbar__search searchBarContainer_NW3z" dir="ltr"><input placeholder="Search" aria-label="Search" class="navbar__search-input searchInput_YFbd" value=""><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/"><span title="Introduction" class="linkLabel_WmDU">Introduction</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/docs/category/quick-start"><span title="Quick Start" class="categoryLinkLabel_W154">Quick Start</span></a><button aria-label="Expand sidebar category &#x27;Quick Start&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/docs/category/usage"><span title="Usage" class="categoryLinkLabel_W154">Usage</span></a><button aria-label="Expand sidebar category &#x27;Usage&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/docs/category/configuration"><span title="Configuration" class="categoryLinkLabel_W154">Configuration</span></a><button aria-label="Expand sidebar category &#x27;Configuration&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/docs/category/advanced"><span title="Advanced" class="categoryLinkLabel_W154">Advanced</span></a><button aria-label="Expand sidebar category &#x27;Advanced&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/faq"><span title="FAQ" class="linkLabel_WmDU">FAQ</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/development"><span title="Development" class="linkLabel_WmDU">Development</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--active" href="/docs/category/guides"><span title="Guides" class="categoryLinkLabel_W154">Guides</span></a><button aria-label="Collapse sidebar category &#x27;Guides&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/guides/power-events"><span title="Running with Power Events" class="linkLabel_WmDU">Running with Power Events</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/guides/scale"><span title="Adjusting Monitor Scale in the TUI" class="linkLabel_WmDU">Adjusting Monitor Scale in the TUI</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/guides/lid-events"><span title="Running with Lid Events" class="linkLabel_WmDU">Running with Lid Events</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/guides/ad-hoc"><span title="Dynamic Profile Modes Pattern" class="linkLabel_WmDU">Dynamic Profile Modes Pattern</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/guides/running-without-daemon"><span title="Running without a daemon" class="linkLabel_WmDU">Running without a daemon</span></a></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/docs/category/guides"><span>Guides</span></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Running with Power Events</span></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: v1.3.10</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Running with Power Events</h1></header>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="what-are-power-events">What are power events?<a href="#what-are-power-events" class="hash-link" aria-label="Direct link to What are power events?" title="Direct link to What are power events?" translate="no">​</a></h2>
<p>Power events allow <code>hyprdynamicmonitors</code> to automatically switch monitor profiles based on your device&#x27;s power state (AC power vs. battery). This is useful for scenarios like:</p>
<ul>
<li>Switching to a power-saving profile when on battery</li>
<li>Enabling high refresh rates only when plugged in</li>
<li>Adjusting monitor scaling based on power state</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="prerequisites">Prerequisites<a href="#prerequisites" class="hash-link" aria-label="Direct link to Prerequisites" title="Direct link to Prerequisites" translate="no">​</a></h2>
<p>To use power events, you need <strong>UPower</strong> installed and running on your system.</p>
<p>Check if UPower is running:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">systemctl status upower</span><br></span></code></pre></div></div>
<p>If it&#x27;s not installed, install it using your package manager:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Arch Linux</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> pacman </span><span class="token parameter variable" style="color:#36acaa">-S</span><span class="token plain"> upower</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Debian/Ubuntu</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">apt</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> upower</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Fedora</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> dnf </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> upower</span><br></span></code></pre></div></div>
<p>After installation, enable and start the service:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> systemctl </span><span class="token builtin class-name">enable</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">--now</span><span class="token plain"> upower</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="do-i-need-power-events">Do I need power events?<a href="#do-i-need-power-events" class="hash-link" aria-label="Direct link to Do I need power events?" title="Direct link to Do I need power events?" translate="no">​</a></h2>
<p><strong>Laptop users:</strong> Yes, if you want to:</p>
<ul>
<li>Save battery by reducing refresh rates or resolution when unplugged</li>
<li>Use high-performance settings (e.g., 144Hz) only when on AC power</li>
<li>Automatically switch to a minimal monitor setup on battery</li>
</ul>
<p><strong>Desktop users:</strong> Usually no, since desktops are always plugged in. Power events are disabled by default on desktops. However, if you have a UPS (battery backup), you might want power events enabled to switch to a power-efficient configuration during power outages.</p>
<p><strong>Only care about connected displays?</strong> If you only want profiles to switch based on which monitors are physically connected (not power state), you can <a href="#disabling-power-events">disable power events entirely</a>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="automatic-detection">Automatic detection<a href="#automatic-detection" class="hash-link" aria-label="Direct link to Automatic detection" title="Direct link to Automatic detection" translate="no">​</a></h2>
<p><code>hyprdynamicmonitors</code> automatically detects your device type and configures power events accordingly:</p>
<ul>
<li><strong>On laptops:</strong> Power events are enabled by default</li>
<li><strong>On desktops:</strong> Power events are disabled by default</li>
</ul>
<p>For laptop users (or desktop users who explicitly enable power events), the tool will automatically detect your UPower device by matching against <a href="https://github.com/fiffeek/hyprdynamicmonitors/blob/main/internal/utils/power.go#L14" target="_blank" rel="noopener noreferrer">a well-known list of devices</a>. This means <strong>most laptop users don&#x27;t need any configuration</strong>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="verifying-automatic-detection">Verifying automatic detection<a href="#verifying-automatic-detection" class="hash-link" aria-label="Direct link to Verifying automatic detection" title="Direct link to Verifying automatic detection" translate="no">​</a></h2>
<p>To check that automatic detection is working correctly, run:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">hyprdynamicmonitors run --run-once --dry-run</span><br></span></code></pre></div></div>
<p>Look for a line like this in the output:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">INFO[...] Inferred power line    power_line=&quot;/org/freedesktop/UPower/devices/line_power_ACAD&quot;</span><br></span></code></pre></div></div>
<p>(The exact device name may vary, e.g., <code>line_power_AC</code>, <code>line_power_ADP1</code>, etc.)</p>
<p><strong>If you see this message:</strong> Everything is working correctly and you don&#x27;t need to configure anything.</p>
<p><strong>If you don&#x27;t see this message:</strong> Automatic detection failed. This could mean:</p>
<ul>
<li>Power events are disabled (check if you&#x27;re on desktop or using <code>--disable-power-events</code>)</li>
<li>Your power device isn&#x27;t in the recognized list (see <a href="#custom-upower-device">Custom UPower device</a>)</li>
<li>UPower isn&#x27;t running or isn&#x27;t installed (see <a href="#prerequisites">Prerequisites</a>)</li>
</ul>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="advanced-configuration">Advanced configuration<a href="#advanced-configuration" class="hash-link" aria-label="Direct link to Advanced configuration" title="Direct link to Advanced configuration" translate="no">​</a></h2>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>Important</div><div class="admonitionContent_BuS1"><p>When using <code>--disable-power-events</code>, ensure both <code>run</code> and <code>tui</code> commands use the same flag. Since profiles may have power state conditions (e.g., require AC power), the TUI needs to know the current power state to correctly display which profile would be active.</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="custom-upower-device">Custom UPower device<a href="#custom-upower-device" class="hash-link" aria-label="Direct link to Custom UPower device" title="Direct link to Custom UPower device" translate="no">​</a></h3>
<p>If automatic detection fails or detects the wrong device, you can manually specify which UPower device to use. First, list your available power devices:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">upower </span><span class="token parameter variable" style="color:#36acaa">-e</span><br></span></code></pre></div></div>
<p>Then override the power device in your configuration file at <code>~/.config/hyprdynamicmonitors/config.toml</code>:</p>
<div class="language-toml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-toml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">[</span><span class="token table class-name">power_events</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token table class-name">power_events.dbus_query_object</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key property" style="color:#36acaa">path</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;/org/freedesktop/UPower/devices/line_power_XYZ&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">[</span><span class="token table class-name">power_events.dbus_signal_match_rules</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key property" style="color:#36acaa">object_path</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;/org/freedesktop/UPower/devices/line_power_XYZ&quot;</span><br></span></code></pre></div></div>
<p>Replace <code>/org/freedesktop/UPower/devices/line_power_XYZ</code> with your actual power device path from <code>upower -e</code>.</p>
<p>For more configuration options, see the <a href="/docs/configuration/power-events">Power Events configuration section</a>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="enabling-power-events-on-desktops">Enabling power events on desktops<a href="#enabling-power-events-on-desktops" class="hash-link" aria-label="Direct link to Enabling power events on desktops" title="Direct link to Enabling power events on desktops" translate="no">​</a></h3>
<p>Power events are disabled by default on desktops, but you can explicitly enable them. Common reasons to enable:</p>
<ul>
<li>Your desktop has a UPS (battery backup) and you want power-saving profiles during outages</li>
<li>You&#x27;re testing power-related profile configurations</li>
</ul>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">hyprdynamicmonitors run --disable-power-events</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">false</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="disabling-power-events">Disabling power events<a href="#disabling-power-events" class="hash-link" aria-label="Direct link to Disabling power events" title="Direct link to Disabling power events" translate="no">​</a></h3>
<p>If you only want to switch profiles based on connected monitors (not power state), you can disable power events:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">hyprdynamicmonitors run --disable-power-events</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="using-power-events">Using power events<a href="#using-power-events" class="hash-link" aria-label="Direct link to Using power events" title="Direct link to Using power events" translate="no">​</a></h2>
<p>You can use them in <a href="/docs/configuration/profiles#profile-structure">profile matching criteria</a> and in <a href="/docs/advanced/templates#template-functions">your templates</a>.</p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="troubleshooting">Troubleshooting<a href="#troubleshooting" class="hash-link" aria-label="Direct link to Troubleshooting" title="Direct link to Troubleshooting" translate="no">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="error-object-does-not-exist-at-path-orgfreedesktopupowerdevicesline_power_acad">Error: &quot;Object does not exist at path /org/freedesktop/UPower/devices/line_power_ACAD&quot;<a href="#error-object-does-not-exist-at-path-orgfreedesktopupowerdevicesline_power_acad" class="hash-link" aria-label="Direct link to Error: &quot;Object does not exist at path /org/freedesktop/UPower/devices/line_power_ACAD&quot;" title="Direct link to Error: &quot;Object does not exist at path /org/freedesktop/UPower/devices/line_power_ACAD&quot;" translate="no">​</a></h3>
<p>This error means <code>hyprdynamicmonitors</code> couldn&#x27;t find the expected power device.</p>
<p><strong>Quick fix - Disable power events</strong> (if you don&#x27;t need them):</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">hyprdynamicmonitors run --disable-power-events</span><br></span></code></pre></div></div>
<p><strong>Full fix - Configure a custom power device</strong> (if you need power events):</p>
<ol>
<li>
<p>Check if UPower is running:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">systemctl status upower</span><br></span></code></pre></div></div>
<p>If not running, start it: <code>sudo systemctl start upower</code></p>
</li>
<li>
<p>List your available power devices:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">upower </span><span class="token parameter variable" style="color:#36acaa">-e</span><br></span></code></pre></div></div>
<p>Look for a line containing <code>line_power</code> (ignore battery/display devices). Example: <code>/org/freedesktop/UPower/devices/line_power_AC</code></p>
</li>
<li>
<p>Configure the correct device following the <a href="#custom-upower-device">Custom UPower device section</a> above.</p>
</li>
</ol>
<p><strong>Help improve automatic detection:</strong> If you have a power device that should be recognized automatically, please contribute by:</p>
<ul>
<li>Submitting a PR to add your device to <a href="https://github.com/fiffeek/hyprdynamicmonitors/blob/main/internal/utils/power.go#L14" target="_blank" rel="noopener noreferrer">the recognized device list</a></li>
<li>Opening a <a href="https://github.com/fiffeek/hyprdynamicmonitors/issues" target="_blank" rel="noopener noreferrer">GitHub issue</a> with your device information</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="power-events-arent-switching-profiles">Power events aren&#x27;t switching profiles<a href="#power-events-arent-switching-profiles" class="hash-link" aria-label="Direct link to Power events aren&#x27;t switching profiles" title="Direct link to Power events aren&#x27;t switching profiles" translate="no">​</a></h3>
<p>If automatic detection succeeded but profiles aren&#x27;t switching when you plug/unplug:</p>
<ol>
<li>
<p><strong>Verify your profile has power state conditions:</strong>
Check your <code>config.toml</code> to ensure profiles specify power requirements:</p>
<div class="language-toml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-toml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">[</span><span class="token table class-name">profiles.high_performance</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># ... monitor conditions ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">[</span><span class="token table class-name">profiles.high_performance.conditions.required_power_states</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key property" style="color:#36acaa">state</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;AC&quot;</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Only active when on AC power</span><br></span></code></pre></div></div>
</li>
<li>
<p><strong>Check current power state:</strong></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">upower </span><span class="token parameter variable" style="color:#36acaa">-i</span><span class="token plain"> /org/freedesktop/UPower/devices/line_power_ACAD</span><br></span></code></pre></div></div>
<p>(Replace <code>line_power_ACAD</code> with your actual device from the &quot;Inferred power line&quot; message)</p>
<p>Look for the <code>online</code> property (yes = AC power, no = battery)</p>
</li>
<li>
<p><strong>Test with dry-run:</strong></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Unplug your laptop, then run:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">hyprdynamicmonitors run --run-once --dry-run</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Plug it back in, then run:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">hyprdynamicmonitors run --run-once --dry-run</span><br></span></code></pre></div></div>
<p>The output should show different profiles being selected based on power state.</p>
</li>
<li>
<p><strong>Verify daemon is using the same configuration:</strong>
If you&#x27;re running the daemon with <code>exec-once</code>, make sure you&#x27;re not passing conflicting flags like <code>--disable-power-events</code>.</p>
</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="upower-is-not-installed">UPower is not installed<a href="#upower-is-not-installed" class="hash-link" aria-label="Direct link to UPower is not installed" title="Direct link to UPower is not installed" translate="no">​</a></h3>
<p>If you get errors about UPower not being available, see the <a href="#prerequisites">Prerequisites</a> section for installation instructions.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/fiffeek/hyprdynamicmonitors/tree/main/docs/versioned_docs/version-v1.3.10/guides/power-events.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/category/guides"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Guides</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/guides/scale"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Adjusting Monitor Scale in the TUI</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#what-are-power-events" class="table-of-contents__link toc-highlight">What are power events?</a></li><li><a href="#prerequisites" class="table-of-contents__link toc-highlight">Prerequisites</a></li><li><a href="#do-i-need-power-events" class="table-of-contents__link toc-highlight">Do I need power events?</a></li><li><a href="#automatic-detection" class="table-of-contents__link toc-highlight">Automatic detection</a></li><li><a href="#verifying-automatic-detection" class="table-of-contents__link toc-highlight">Verifying automatic detection</a></li><li><a href="#advanced-configuration" class="table-of-contents__link toc-highlight">Advanced configuration</a><ul><li><a href="#custom-upower-device" class="table-of-contents__link toc-highlight">Custom UPower device</a></li><li><a href="#enabling-power-events-on-desktops" class="table-of-contents__link toc-highlight">Enabling power events on desktops</a></li><li><a href="#disabling-power-events" class="table-of-contents__link toc-highlight">Disabling power events</a></li></ul></li><li><a href="#using-power-events" class="table-of-contents__link toc-highlight">Using power events</a></li><li><a href="#troubleshooting" class="table-of-contents__link toc-highlight">Troubleshooting</a><ul><li><a href="#error-object-does-not-exist-at-path-orgfreedesktopupowerdevicesline_power_acad" class="table-of-contents__link toc-highlight">Error: &quot;Object does not exist at path /org/freedesktop/UPower/devices/line_power_ACAD&quot;</a></li><li><a href="#power-events-arent-switching-profiles" class="table-of-contents__link toc-highlight">Power events aren&#39;t switching profiles</a></li><li><a href="#upower-is-not-installed" class="table-of-contents__link toc-highlight">UPower is not installed</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Documentation</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/">Getting Started</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/category/quick-start">Quick Start</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/category/configuration">Configuration</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Resources</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/fiffeek/hyprdynamicmonitors" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://github.com/fiffeek/hyprdynamicmonitors/tree/main/examples" target="_blank" rel="noopener noreferrer" class="footer__link-item">Examples<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div></div></footer></div>
</body>
</html>