# HyprDynamicMonitors - Scoring System Example
#
# This example demonstrates how the scoring system works when multiple
# profiles match the current configuration. Higher scoring profiles win.
#
# Use case: Fine-tune profile selection when you have overlapping conditions.

[general]
destination = "$HOME/.config/hypr/config.d/99_autogenerated-monitors.conf"

[power_events]

[power_events.dbus_query_object]
path = "/org/freedesktop/UPower/devices/line_power_ACAD"

[[power_events.dbus_signal_match_rules]]
object_path = "/org/freedesktop/UPower/devices/line_power_ACAD"

[scoring]
# Scoring weights control profile selection when multiple profiles match:
# - name_match: Points for exact monitor name matches (e.g., "eDP-1")
# - description_match: Points for exact description matches
# - power_state_match: Bonus points for matching power state requirements
name_match = 10         # High weight for name matches
description_match = 8   # Slightly lower for description matches
power_state_match = 5   # Bonus for power state matches

# Profile 1: Generic laptop profile (matches by name only)
# Score: 10 (name_match) = 10 points
[profiles.generic_laptop]
config_file = "hyprconfigs/generic-laptop.conf"
config_file_type = "static"

[[profiles.generic_laptop.conditions.required_monitors]]
name = "eDP-1"

# Profile 2: Specific laptop model (matches by name + description)
# Score: 10 (name_match) + 8 (description_match) = 18 points
[profiles.thinkpad_x1]
config_file = "hyprconfigs/thinkpad-optimized.conf"
config_file_type = "static"

[[profiles.thinkpad_x1.conditions.required_monitors]]
name = "eDP-1"
description = "BOE NE135A1M-NY1"  # Specific ThinkPad X1 screen

# Profile 3: AC power optimized (matches name + description + power state)
# Score: 10 (name_match) + 8 (description_match) + 5 (power_state_match) = 23 points
[profiles.thinkpad_x1_performance]
config_file = "hyprconfigs/thinkpad-performance.conf"
config_file_type = "static"

[profiles.thinkpad_x1_performance.conditions]
power_state = "AC"  # Adds bonus scoring

[[profiles.thinkpad_x1_performance.conditions.required_monitors]]
name = "eDP-1"
description = "BOE NE135A1M-NY1"

# With the above configuration:
# - If only eDP-1 with description="BOE NE135A1M-NY1" is connected and the laptop is on AC, all profiles match
# - thinkpad_x1_performance wins (23 points) when on AC power with the specific screen (it does not match on battery)
# - thinkpad_x1 wins (18 points) when on battery/ac with the specific screen
# - generic_laptop wins (10 points) never wins
# If any other screen is connected all the rules above would match.so either
# thinkpad_x1_performance or thinkpad_x1 wins
