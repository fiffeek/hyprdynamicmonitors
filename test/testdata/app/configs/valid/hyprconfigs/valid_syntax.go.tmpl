# validate should just check the syntax and functions, using "undefined" vars is fine
# --dry-run should be checking runtime of these per profile
{{- range .Monitors }}
{{- if eq .Tag "laptop" }}
monitor = {{ .Name }}, 1920x1080@{{ $.refresh_rate_ac }}, 0x0, {{ $.default_scaling }}
{{- else if eq .Tag "external" }}
monitor = {{ .Name }}, 1920x1080@60, 1080x0, {{ $.external_scaling }}
{{- end }}
{{- end }}

# Workspace layout based on template variable
{{- if eq .workspace_layout "extended" }}
workspace = 1, monitor:eDP-1
workspace = 2, monitor:DP-11
{{- end }}

{{ $.whatever }}
{{ .undefinedVar }}
